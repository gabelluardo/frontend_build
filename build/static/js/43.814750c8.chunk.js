(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{498:function(e,t,a){"use strict";a.r(t);var n=a(95),l=a(96),s=a(98),i=a(97),r=a(99),c=a(1),o=a.n(c),m=a(295),u=a(296),d=a(363),h=a(298),p=a(300),g=a(299),E=a(477),f=a(478),v=a(479),S=a(319),b=a(314),y=a(297),w=a(326),N=a(318),x=a(103),O=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e)))._isMounted=!1,a.inputSettings=void 0,a.saveSettings=function(){a.inputSettings.update=function(){var e=new Date,t=e.getDate()+"/"+(e.getMonth()+1);return e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+"-"+t}(),x.a.saveSettings(a.inputSettings),a.showMessage(),a.reloadStatus()},a.toggleButton=function(){a.reloadStatus()},a.onDismiss=function(){a.setState({visible:!1})},a.showMessage=function(){a.setState({visible:!0}),setTimeout(a.onDismiss,2500)},a.handleSwitch=function(e){var t=a.inputSettings,n=!t[e];t[e]=n},a.handleText=function(e,t){var n=a.inputSettings,l=t.target.value;t.target.validity.valid&&(n[e]=l)},a.loading=function(){return o.a.createElement("div",{className:"animated fadeIn pt-1 text-center"},"Loading...")},a.state={settings:"",state:"",visible:!1},a}return Object(r.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.reloadStatus()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"reloadStatus",value:function(){var e=this;x.a.getSettings(function(t){return e.setState({settings:t})}),x.a.getState(function(t){return e.setState({state:t})})}},{key:"render",value:function(){return""===this.state.state?null:(void 0===this.inputSettings&&(this.inputSettings=JSON.parse(JSON.stringify(this.state.settings))),o.a.createElement("div",{className:"animated fadeIn"},o.a.createElement(m.a,null,o.a.createElement(u.a,{xs:"12",xl:"6"},o.a.createElement(k,{settings:this.state.settings,state:this.state.state,toggleButton:this.toggleButton}),o.a.createElement(d.a,{color:"warning",isOpen:this.state.visible,toggle:this.onDismiss},"Impostazioni salvate")),o.a.createElement(u.a,{xs:"12",xl:"6"},o.a.createElement(h.a,null,o.a.createElement(p.a,null,o.a.createElement("strong",null,"Impostazioni")),o.a.createElement(g.a,null,o.a.createElement(E.a,{action:"",encType:"multipart/form-data",className:"form-horizontal"},o.a.createElement(f.a,{row:!0},o.a.createElement(u.a,{md:"10"},o.a.createElement(v.a,null,"Log")),o.a.createElement(u.a,{md:"2"},o.a.createElement(N.l,{className:"mx-1",variant:"pill",color:"primary",outline:"alt",label:!0,onChange:this.handleSwitch.bind(this,"log"),defaultChecked:this.state.settings.log}))),o.a.createElement(f.a,{row:!0},o.a.createElement(u.a,{md:"10"},o.a.createElement(v.a,null,"Csv")),o.a.createElement(u.a,{md:"2"},o.a.createElement(N.l,{className:"mx-1",variant:"pill",color:"primary",outline:"alt",label:!0,onChange:this.handleSwitch.bind(this,"csv"),checked:this.state.settings.csv}))),o.a.createElement(f.a,{row:!0},o.a.createElement(u.a,{md:"10"},o.a.createElement(v.a,null,"Ant")),o.a.createElement(u.a,{md:"2"},o.a.createElement(N.l,{className:"mx-1",variant:"pill",color:"primary",outline:"alt",label:!0,onChange:this.handleSwitch.bind(this,"ant"),defaultChecked:this.state.settings.ant}))),o.a.createElement(f.a,{row:!0},o.a.createElement(u.a,{md:"9"},o.a.createElement(v.a,null,"Potenza media")),o.a.createElement(u.a,{md:"3"},o.a.createElement(S.a,{className:"text-center",type:"number",min:"0",pattern:"[0-9]*",defaultValue:this.state.settings.potenza,onChange:this.handleText.bind(this,"potenza")}))),o.a.createElement(f.a,{row:!0},o.a.createElement(u.a,{md:"9"},o.a.createElement(v.a,null,"Led Mode")),o.a.createElement(u.a,{md:"3"},o.a.createElement(S.a,{className:"text-center",type:"number",min:"0",pattern:"[0-9]*",defaultValue:this.state.settings.led,onChange:this.handleText.bind(this,"led")}))),o.a.createElement(f.a,{row:!0},o.a.createElement(u.a,{md:"9"},o.a.createElement(v.a,null,"Circonferenza")),o.a.createElement(u.a,{md:"3"},o.a.createElement(S.a,{className:"text-center",type:"number",min:"0",pattern:"[0-9]*",defaultValue:this.state.settings.circonferenza,onChange:this.handleText.bind(this,"circonferenza")}))),o.a.createElement(f.a,{row:!0},o.a.createElement(u.a,{md:"9"},o.a.createElement(v.a,null,"Valore calibrazione")),o.a.createElement(u.a,{md:"3"},o.a.createElement(S.a,{className:"text-center",type:"number",min:"0",pattern:"[0-9]*",defaultValue:this.state.settings.calibration_value,onInput:this.handleText.bind(this,"calibration_value")}))),o.a.createElement(f.a,{row:!0},o.a.createElement(u.a,{md:"9"},o.a.createElement(v.a,null,"Run")),o.a.createElement(u.a,{md:"3"},o.a.createElement(S.a,{className:"text-center",type:"number",min:"0",pattern:"[0-9]*",defaultValue:this.state.settings.run,onInput:this.handleText.bind(this,"run")}))),o.a.createElement(f.a,{row:!0},o.a.createElement(u.a,{md:"10"},o.a.createElement(v.a,null,"Record video")),o.a.createElement(u.a,{md:"2"},o.a.createElement(N.l,{className:"mx-1",variant:"pill",color:"primary",outline:"alt",label:!0,onChange:this.handleSwitch.bind(this,"video_record"),defaultChecked:this.state.settings.video_record}))))),o.a.createElement(b.a,null,o.a.createElement(m.a,null,o.a.createElement(u.a,{md:"9"},o.a.createElement(y.a,{type:"submit","data-dismiss":"alert",size:"sl",color:"success",onClick:this.saveSettings},o.a.createElement("i",{className:"fa fa-download"})," Save"),"\u2002"),o.a.createElement(u.a,{md:"3"},o.a.createElement("div",{className:"text-center"},this.state.settings.update)))))))))}}]),t}(c.Component),k=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).toggle=function(){a.setState({collapse:!a.state.collapse})},a.state={status:"",collapse:!1},a}return Object(r.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(){this.updateStatus()}},{key:"componentDidMount",value:function(){this.updateStatus()}},{key:"updateStatus",value:function(){var e=JSON.parse(JSON.stringify(this.props.state)),t=JSON.parse(JSON.stringify(this.props.settings));delete e.dest,delete e.type,delete t.dest,delete t.type;var a=JSON.stringify(e,null,1).replace(/\{|\}|"|,|/g,"").replace("\n",""),n=JSON.stringify(t,null,1).replace(/\{|\}|"|,/g,"");this.setState({status:a+n})}},{key:"render",value:function(){return o.a.createElement(h.a,null,o.a.createElement(p.a,null,o.a.createElement(y.a,{block:!0,color:"link",className:"text-left m-0 p-0",onClick:this.toggle,"aria-expanded":this.state.collapse},o.a.createElement("strong",null,"Status"))),o.a.createElement(w.a,{isOpen:!this.state.collapse},o.a.createElement(g.a,null,o.a.createElement("pre",null,o.a.createElement("code",null,this.state.status)))),o.a.createElement(b.a,null,o.a.createElement(y.a,{type:"submit",size:"sl",color:"danger",onClick:this.props.toggleButton},o.a.createElement("i",{className:"fa fa-refresh"})," Reload")))}}]),t}(c.Component);t.default=O}}]);
//# sourceMappingURL=43.814750c8.chunk.js.map