{"version":3,"sources":["notifications/index.js","views/Bike/Cards/CardState.js","views/Bike/Cards/CardVideo.js","views/Bike/Cards/CardRasp.js","views/Bike/Cards/CardSettings.js","views/Bike/Bike.js","views/Bike/Cards/CardGear.js"],"names":["base","type","insert","container","animationIn","animationOut","width","dismiss","duration","onScreen","pauseOnHover","showIcon","CardState","props","toggle","setState","collapse","state","toggleButton","store","addNotification","title","message","reloadStatus","status","this","updateStatus","jstate","JSON","parse","stringify","jsettings","settings","replace","Card","CardHeader","Button","block","color","className","onClick","aria-expanded","Collapse","isOpen","CardBody","CardFooter","size","Component","CardVideo","handleSwitch","inputVideo","value","handleText","event","name","target","validity","valid","sendVideo","SocketIoHelper","dest","Form","action","encType","FormGroup","row","Col","md","Label","variant","outline","label","checked","onChange","Input","pattern","placeholder","Row","data-dismiss","CardRasp","sendRasp","inputRasp","xs","xl","bind","CardSettings","inputSettings","saveSettings","update","d","Date","toLocaleTimeString","toLocaleDateString","month","day","currentTime","log","csv","ant","min","defaultValue","potenza","led","circonferenza","calibration_value","onInput","run","Bike","_isMounted","updateView","loading","visible","visible_video","visible_rasp","getSettings","getState","video_recording"],"mappings":"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","file":"static/js/44.c32c3946.chunk.js","sourcesContent":["import 'react-notifications-component/dist/theme.css'\nimport 'animate.css'\n\n// Notifiche\nconst base = {\n  type: 'info',\n  insert: 'top',\n  container: 'top-right',\n  animationIn: ['animated', 'fadeIn'],\n  animationOut: ['animated', 'fadeOut'],\n  width: 300,\n  dismiss: {\n    duration: 2500,\n    onScreen: true, // true: mostra il countdown di scomparsa\n    pauseOnHover: true,\n    showIcon: true,\n  },\n}\n\nexport default base\n","import React, { Component } from 'react'\nimport {\n  Button,\n  Card,\n  CardBody,\n  CardFooter,\n  CardHeader,\n  Collapse,\n} from 'reactstrap'\nimport { store } from 'react-notifications-component'\nimport base from 'notifications'\n\nclass CardState extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      status: '',\n      collapse: false,\n    }\n  }\n\n  // TODO: issue #22\n  UNSAFE_componentWillReceiveProps() {\n    this.updateStatus()\n  }\n\n  componentDidMount() {\n    this.updateStatus()\n  }\n\n  toggle = () => {\n    this.setState({ collapse: !this.state.collapse })\n  }\n\n  toggleButton = () => {\n    store.addNotification({\n      ...base,\n      title: 'State',\n      message: 'Aggiornato lo status',\n      type: 'success',\n    })\n    this.props.reloadStatus()\n  }\n\n  updateStatus() {\n    let jstate = JSON.parse(JSON.stringify(this.props.state))\n    let jsettings = JSON.parse(JSON.stringify(this.props.settings))\n\n    // rimuovo i campi superflui dall'output\n    delete jstate['dest']\n    delete jstate['type']\n    delete jsettings['dest']\n    delete jsettings['type']\n\n    let state = JSON.stringify(jstate, null, 1)\n      .replace(/\\{|\\}|\"|,|/g, '')\n      .replace('\\n', '')\n    let settings = JSON.stringify(jsettings, null, 1).replace(/\\{|\\}|\"|,/g, '')\n\n    this.setState({\n      status: state + settings,\n    })\n  }\n\n  render() {\n    return (\n      <Card>\n        <CardHeader>\n          <Button\n            block\n            color=\"link\"\n            className=\"text-left m-0 p-0\"\n            onClick={this.toggle}\n            aria-expanded={this.state.collapse}\n          >\n            <strong>Status</strong>\n          </Button>\n        </CardHeader>\n        <Collapse isOpen={!this.state.collapse}>\n          <CardBody>\n            <pre>\n              <code>{this.state.status}</code>\n            </pre>\n          </CardBody>\n          <CardFooter>\n            <Button\n              className=\"text-white bg-cyan\"\n              type=\"submit\"\n              size=\"sl\"\n              onClick={this.toggleButton}\n            >\n              <i className=\"fa fa-refresh\"></i> Reload\n            </Button>\n          </CardFooter>\n        </Collapse>\n      </Card>\n    )\n  }\n}\n\nexport default CardState\n","import React, { Component } from 'react'\nimport {\n  Button,\n  Card,\n  CardBody,\n  CardFooter,\n  CardHeader,\n  Col,\n  Form,\n  FormGroup,\n  Input,\n  Label,\n  Row,\n  Collapse,\n} from 'reactstrap'\nimport { AppSwitch } from '@coreui/react'\nimport SocketIoHelper from 'socketio'\n\nimport { store } from 'react-notifications-component'\nimport base from 'notifications'\n\nclass CardVideo extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      collapse: false,\n    }\n\n    this.inputVideo = {\n      dest: this.props.dest,\n      type: '7',\n      value: this.props.value,\n      name: '',\n    }\n  }\n\n  handleSwitch = () => {\n    this.inputVideo.value = !this.inputVideo.value\n  }\n\n  handleText = event => {\n    const name = event.target.value\n    if (event.target.validity.valid) {\n      this.inputVideo.name = name\n    }\n  }\n\n  toggle = () => {\n    this.setState({ collapse: !this.state.collapse })\n  }\n\n  sendVideo = () => {\n    store.addNotification({\n      title: 'Video',\n      message: 'Invio del pacchetto video alla bici',\n      ...base,\n    })\n    SocketIoHelper.sendVideo(this.inputVideo)\n    this.props.reloadStatus()\n  }\n\n  render() {\n    return (\n      <Card>\n        <CardHeader>\n          <Button\n            block\n            color=\"link\"\n            className=\"text-left m-0 p-0\"\n            onClick={this.toggle}\n            aria-expanded={this.state.collapse}\n          >\n            <strong>Video</strong>\n          </Button>\n        </CardHeader>\n        <Collapse isOpen={!this.state.collapse}>\n          <CardBody>\n            <Form\n              action=\"\"\n              encType=\"multipart/form-data\"\n              className=\"form-horizontal\"\n            >\n              <FormGroup row>\n                <Col md=\"9\">\n                  <Label>Registrazione</Label>\n                </Col>\n                <Col md=\"3\">\n                  <AppSwitch\n                    className={'mx-1'}\n                    variant={'pill'}\n                    color={'primary'}\n                    outline={'alt'}\n                    label\n                    checked={this.props.value}\n                    onChange={this.handleSwitch}\n                  />\n                </Col>\n              </FormGroup>\n              <FormGroup row>\n                <Col md=\"5\">\n                  <Label>File</Label>\n                </Col>\n                <Col md=\"7\">\n                  <Input\n                    className=\"text-center\"\n                    type=\"text\"\n                    pattern=\"*\"\n                    placeholder=\"Inserire nome del file video\"\n                    onChange={this.handleText}\n                  />\n                </Col>\n              </FormGroup>\n            </Form>\n          </CardBody>\n          <CardFooter>\n            <Row>\n              <Col md=\"9\">\n                <Button\n                  type=\"submit\"\n                  data-dismiss=\"alert\"\n                  size=\"sl\"\n                  color=\"primary\"\n                  onClick={this.sendVideo}\n                >\n                  <i className=\"fa fa-sign-out\"></i> Send\n                </Button>\n                &ensp;\n              </Col>\n            </Row>\n          </CardFooter>\n        </Collapse>\n      </Card>\n    )\n  }\n}\n\nexport default CardVideo\n","import React, { Component } from 'react'\nimport {\n  Button,\n  Card,\n  CardBody,\n  CardHeader,\n  Col,\n  Row,\n  Collapse,\n} from 'reactstrap'\nimport SocketIoHelper from 'socketio'\nimport { store } from 'react-notifications-component'\nimport base from 'notifications'\n\nclass CardRasp extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      collapse: false,\n    }\n\n    this.inputRasp = {\n      dest: this.props.dest,\n      type: '6',\n      value: '',\n    }\n  }\n\n  toggle = () => {\n    this.setState({ collapse: !this.state.collapse })\n  }\n\n  sendRasp = value => {\n    store.addNotification({\n      title: 'Raspberry',\n      message: 'Invio del pacchetto raspberry alla bici',\n      ...base,\n    })\n    this.inputRasp.value = value\n    SocketIoHelper.sendRasp(this.inputRasp)\n    this.props.reloadStatus()\n  }\n\n  render() {\n    return (\n      <Card>\n        <CardHeader>\n          <Button\n            block\n            color=\"link\"\n            className=\"text-left m-0 p-0\"\n            onClick={this.toggle}\n            aria-expanded={this.state.collapse}\n          >\n            <strong>Raspberry</strong>\n          </Button>\n        </CardHeader>\n        <Collapse isOpen={!this.state.collapse}>\n          <CardBody>\n            <Row>\n              <Col xs=\"7\" md=\"8\" xl=\"9\">\n                <Button\n                  type=\"submit\"\n                  data-dismiss=\"alert\"\n                  size=\"sl\"\n                  color=\"danger\"\n                  onClick={this.sendRasp.bind(this, '0')}\n                >\n                  <i className=\"fa fa-power-off\"></i> Spegni\n                </Button>\n              </Col>\n              <Col xs=\"5\" md=\"4\" xl=\"3\">\n                <Button\n                  className=\"text-white\"\n                  type=\"submit\"\n                  data-dismiss=\"alert\"\n                  size=\"sl\"\n                  color=\"warning\"\n                  onClick={this.sendRasp.bind(this, '1')}\n                >\n                  <i className=\"fa fa-refresh\"></i> Riavvia\n                </Button>\n              </Col>\n            </Row>\n          </CardBody>\n        </Collapse>\n      </Card>\n    )\n  }\n}\n\nexport default CardRasp\n","import React, { Component } from 'react'\nimport {\n  Button,\n  Card,\n  CardBody,\n  CardFooter,\n  CardHeader,\n  Col,\n  Form,\n  FormGroup,\n  Input,\n  Label,\n  Row,\n  Collapse,\n} from 'reactstrap'\nimport { AppSwitch } from '@coreui/react'\n\nimport SocketIoHelper from 'socketio'\nimport { store } from 'react-notifications-component'\nimport base from 'notifications'\n\nconst currentTime = () => {\n  const d = new Date()\n  return (\n    d.toLocaleTimeString() +\n    '_' +\n    d.toLocaleDateString('it-IT', {\n      month: '2-digit',\n      day: '2-digit',\n    })\n  ).replace('/', '-')\n}\n\nclass CardSettings extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      collapse: false,\n    }\n\n    this.inputSettings = JSON.parse(JSON.stringify(this.props.settings))\n  }\n\n  handleSwitch = name => {\n    const settings = this.inputSettings\n    const value = !settings[name]\n    settings[name] = value\n  }\n\n  handleText = (name, event) => {\n    const settings = this.inputSettings\n    const value = event.target.value\n\n    if (event.target.validity.valid) {\n      settings[name] = value\n    }\n  }\n\n  toggle = () => {\n    this.setState({ collapse: !this.state.collapse })\n  }\n\n  saveSettings = () => {\n    store.addNotification({\n      title: 'Settings',\n      message: 'Invio del pacchetto settings alla bici',\n      ...base,\n    })\n    this.inputSettings.update = currentTime()\n    SocketIoHelper.saveSettings(this.inputSettings)\n    this.props.reloadStatus()\n  }\n\n  render() {\n    return (\n      <Card>\n        <CardHeader>\n          <Button\n            block\n            color=\"link\"\n            className=\"text-left m-0 p-0\"\n            onClick={this.toggle}\n            aria-expanded={this.state.collapse}\n          >\n            <strong>Impostazioni</strong>\n          </Button>\n        </CardHeader>\n        <Collapse isOpen={!this.state.collapse}>\n          <CardBody>\n            <Form\n              action=\"\"\n              encType=\"multipart/form-data\"\n              className=\"form-horizontal\"\n            >\n              <FormGroup row>\n                <Col md=\"9\">\n                  <Label>Log</Label>\n                </Col>\n                <Col md=\"3\">\n                  <AppSwitch\n                    className={'mx-1'}\n                    variant={'pill'}\n                    color={'primary'}\n                    outline={'alt'}\n                    label\n                    onChange={this.handleSwitch.bind(this, 'log')}\n                    checked={this.props.settings.log}\n                  />\n                </Col>\n              </FormGroup>\n              <FormGroup row>\n                <Col md=\"9\">\n                  <Label>Csv</Label>\n                </Col>\n                <Col md=\"3\">\n                  <AppSwitch\n                    className={'mx-1'}\n                    variant={'pill'}\n                    color={'primary'}\n                    outline={'alt'}\n                    label\n                    onChange={this.handleSwitch.bind(this, 'csv')}\n                    checked={this.props.settings.csv}\n                  />\n                </Col>\n              </FormGroup>\n              <FormGroup row>\n                <Col md=\"9\">\n                  <Label>Ant</Label>\n                </Col>\n                <Col md=\"3\">\n                  <AppSwitch\n                    className={'mx-1'}\n                    variant={'pill'}\n                    color={'primary'}\n                    outline={'alt'}\n                    label\n                    onChange={this.handleSwitch.bind(this, 'ant')}\n                    checked={this.props.settings.ant}\n                  />\n                </Col>\n              </FormGroup>\n              <FormGroup row>\n                <Col md=\"9\">\n                  <Label>Potenza media</Label>\n                </Col>\n                <Col md=\"3\">\n                  <Input\n                    className=\"text-center\"\n                    type=\"number\"\n                    min=\"0\"\n                    pattern=\"\"\n                    defaultValue={this.props.settings.potenza}\n                    onChange={this.handleText.bind(this, 'potenza')}\n                  />\n                </Col>\n              </FormGroup>\n              <FormGroup row>\n                <Col md=\"9\">\n                  <Label>Led Mode</Label>\n                </Col>\n                <Col md=\"3\">\n                  <Input\n                    className=\"text-center\"\n                    type=\"number\"\n                    min=\"0\"\n                    pattern=\"[0-9]*\"\n                    defaultValue={this.props.settings.led}\n                    onChange={this.handleText.bind(this, 'led')}\n                  />\n                </Col>\n              </FormGroup>\n              <FormGroup row>\n                <Col md=\"9\">\n                  <Label>Circonferenza</Label>\n                </Col>\n                <Col md=\"3\">\n                  <Input\n                    className=\"text-center\"\n                    type=\"number\"\n                    min=\"0\"\n                    pattern=\"[0-9]*\"\n                    defaultValue={this.props.settings.circonferenza}\n                    onChange={this.handleText.bind(this, 'circonferenza')}\n                  />\n                </Col>\n              </FormGroup>\n\n              <FormGroup row>\n                <Col md=\"9\">\n                  <Label>Valore calibrazione</Label>\n                </Col>\n                <Col md=\"3\">\n                  <Input\n                    className=\"text-center\"\n                    type=\"number\"\n                    min=\"0\"\n                    pattern=\"[0-9]*\"\n                    defaultValue={this.props.settings.calibration_value}\n                    onInput={this.handleText.bind(this, 'calibration_value')}\n                  />\n                </Col>\n              </FormGroup>\n              <FormGroup row>\n                <Col md=\"9\">\n                  <Label>Run</Label>\n                </Col>\n                <Col md=\"3\">\n                  <Input\n                    className=\"text-center\"\n                    type=\"number\"\n                    min=\"0\"\n                    pattern=\"[0-9]*\"\n                    defaultValue={this.props.settings.run}\n                    onInput={this.handleText.bind(this, 'run')}\n                  />\n                </Col>\n              </FormGroup>\n            </Form>\n          </CardBody>\n\n          <CardFooter>\n            <Row>\n              <Col xs=\"6\" md=\"9\">\n                <Button\n                  type=\"submit\"\n                  data-dismiss=\"alert\"\n                  size=\"sl\"\n                  color=\"success\"\n                  onClick={this.saveSettings}\n                >\n                  <i className=\"fa fa-download\"></i> Save\n                </Button>\n                &ensp;\n              </Col>\n              <Col xs=\"6\" md=\"3\">\n                <div className=\"text-center\">\n                  {this.props.settings.update.replace('_', '\\n')}\n                </div>\n              </Col>\n            </Row>\n          </CardFooter>\n        </Collapse>\n      </Card>\n    )\n  }\n}\n\nexport default CardSettings\n","import React, { Component } from 'react'\nimport { Col, Row } from 'reactstrap'\nimport SocketIoHelper from 'socketio'\nimport { CardState, CardVideo, CardRasp, CardSettings } from './Cards'\n\nclass Bike extends Component {\n  _isMounted = false\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      settings: '',\n      state: '',\n      visible: false,\n      visible_video: false,\n      visible_rasp: false,\n    }\n  }\n\n  componentDidMount() {\n    this._isMounted = true\n    this.reloadStatus()\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false\n  }\n\n  reloadStatus() {\n    SocketIoHelper.getSettings(settings => {\n      if (JSON.stringify(this.state.settings) !== JSON.stringify(settings)) {\n        this.setState({ settings })\n      }\n    })\n    SocketIoHelper.getState(state => {\n      this.setState({ state })\n    })\n  }\n\n  updateView = () => {\n    this.reloadStatus()\n  }\n\n  // NOTE: probabilmente da deprecare\n  loading = () => (\n    <div className=\"animated fadeIn pt-1 text-center\">Loading...</div>\n  )\n\n  render() {\n    if (this.state.state === '' || this.state.settings === '') {\n      return null\n    }\n    return (\n      <article>\n        <Row>\n          <Col xs=\"12\" xl=\"4\">\n            <CardState\n              settings={this.state.settings}\n              state={this.state.state}\n              reloadStatus={this.updateView}\n            />\n          </Col>\n\n          <Col xs=\"12\" xl=\"4\">\n            <CardVideo\n              value={this.state.state.video_recording}\n              dest={this.state.state.dest}\n              reloadStatus={this.updateView}\n            />\n            <CardRasp\n              dest={this.state.state.dest}\n              reloadStatus={this.updateView}\n            />\n          </Col>\n\n          <Col xs=\"12\" xl=\"4\">\n            <CardSettings\n              settings={this.state.settings}\n              reloadStatus={this.updateView}\n            />\n          </Col>\n        </Row>\n      </article>\n    )\n  }\n}\n\nexport default Bike\n","import React, { Component } from 'react'\nimport {\n  Button,\n  Card,\n  CardBody,\n  CardFooter,\n  CardHeader,\n  Col,\n  Row,\n  Collapse,\n} from 'reactstrap'\nimport SocketIoHelper from 'socketio'\n\nclass CardGear extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      calibration: '',\n      collapse: false,\n    }\n\n    this.inputCalibration = undefined\n  }\n\n  toggle = () => {\n    this.setState({ collapse: !this.state.collapse })\n  }\n\n  sendCalibration = () => {\n    SocketIoHelper.sendCalibration(this.inputCalibration)\n    this.props.sendCalibration()\n  }\n\n  render() {\n    return (\n      <Card>\n        <CardHeader>\n          <Button\n            block\n            color=\"link\"\n            className=\"text-left m-0 p-0\"\n            onClick={this.toggle}\n            aria-expanded={this.state.collapse}\n          >\n            <strong>Cambio</strong>\n          </Button>\n        </CardHeader>\n        <Collapse isOpen={!this.state.collapse}>\n          <CardBody>robe</CardBody>\n          <CardFooter>\n            <Row>\n              <Col md=\"9\">\n                <Button\n                  type=\"submit\"\n                  data-dismiss=\"alert\"\n                  size=\"sl\"\n                  color=\"primary\"\n                  onClick={this.sendCalibration}\n                >\n                  <i className=\"fa fa-sign-out\"></i> Send\n                </Button>\n                &ensp;\n              </Col>\n            </Row>\n          </CardFooter>\n        </Collapse>\n      </Card>\n    )\n  }\n}\n\nexport default CardGear\n"],"sourceRoot":""}