{"version":3,"sources":["views/Dashboard/Graph/costants.js","views/Dashboard/Graph/MainChart.js","views/Dashboard/Graph/CardChart.js","views/Dashboard/Extra/index.js","views/Dashboard/Dashboard.js"],"names":["brandSuccess","getStyle","brandInfo","brandWarning","brandDanger","label","i","push","mainChartOpts","tooltips","enabled","custom","CustomTooltips","intersect","mode","position","callbacks","labelColor","tooltipItem","chart","backgroundColor","data","datasets","datasetIndex","borderColor","maintainAspectRatio","legend","display","scales","xAxes","gridLines","drawOnChartArea","yAxes","ticks","beginAtZero","elements","point","radius","hitRadius","hoverRadius","hoverBorderWidth","line","tension","animation","duration","mainChartData","labels","fill","pointHoverBackgroundColor","borderWidth","miniLabel","cardChartData1","cardChartOpts1","max","cardChartData2","cardChartOpts2","min","cardChartData3","cardChartOpts3","cardChartData4","cardChartOpts4","MainChart","history","useState","state","setState","updateHistory","useCallback","newState","power","cadence","speed","heartrate","updateData","oldDataSet1","oldDataSet2","oldDataSet3","oldDataSet4","newData1","newData2","newData3","newData4","x","length","value1","value2","value3","value4","undefined","unshift","shift","useEffect","options","CardChart","type","opts","setLine","newLine","updateLine","oldDataSet","newData","value","PowerCard","CadenceCard","SpeedCard","HRCard","Extra","time","gear","distance","showExtra","weather","Row","Col","xs","sm","lg","Card","className","CardBody","temperature","altitude","pressure","Dashboard","isMounted","useRef","current","useIsMounted","setData","setHistory","setWeather","loading","param","miniChart","rev_history","reverse","list","slice","miniList","j","JSON","parse","setTimeout","SocketIoHelper","requestData","getHistory","getData","getWeather","ButtonGroup","id","size","style","height","marginTop"],"mappings":"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","file":"static/js/12.13024de3.chunk.js","sourcesContent":["import { CustomTooltips } from '@coreui/coreui-plugin-chartjs-custom-tooltips'\nimport { getStyle } from '@coreui/coreui/dist/js/coreui-utilities'\n\n//const brandPrimary = getStyle(\"--primary\");\nconst brandSuccess = getStyle('--success')\nconst brandInfo = getStyle('--info')\nconst brandWarning = getStyle('--warning')\nconst brandDanger = getStyle('--danger')\n\nconst numElement = 200\nconst numCardElement = 50\n\n// Main Chart\n\nlet label = []\n\nfor (let i = 0; i < numElement; i++) {\n  label.push('')\n}\n\nconst mainChartOpts = {\n  tooltips: {\n    enabled: false,\n    custom: CustomTooltips,\n    intersect: true,\n    mode: 'index',\n    position: 'nearest',\n    callbacks: {\n      labelColor: function(tooltipItem, chart) {\n        return {\n          backgroundColor:\n            chart.data.datasets[tooltipItem.datasetIndex].borderColor,\n        }\n      },\n    },\n  },\n  maintainAspectRatio: false,\n  legend: {\n    display: true,\n  },\n  scales: {\n    xAxes: [\n      {\n        display: false,\n        gridLines: {\n          drawOnChartArea: true,\n        },\n      },\n    ],\n    yAxes: [\n      {\n        display: true,\n        ticks: {\n          beginAtZero: true,\n        },\n      },\n    ],\n  },\n  elements: {\n    point: {\n      radius: 0,\n      hitRadius: 10,\n      hoverRadius: 4,\n      hoverBorderWidth: 3,\n    },\n    line: {\n      tension: 0,\n    },\n  },\n  animation: {\n    duration: 0,\n  },\n}\n\nconst mainChartData = {\n  labels: label,\n  datasets: [\n    {\n      label: 'Power',\n      fill: false,\n      backgroundColor: brandInfo, //hexToRgba(brandInfo, 10),\n      borderColor: brandInfo,\n      pointHoverBackgroundColor: '#fff',\n      borderWidth: 2,\n      data: [],\n    },\n    {\n      label: 'Cadence',\n      fill: false,\n      backgroundColor: brandSuccess,\n      borderColor: brandSuccess,\n      pointHoverBackgroundColor: '#fff',\n      borderWidth: 2,\n      data: [],\n    },\n    {\n      label: 'Speed',\n      fill: false,\n      backgroundColor: brandWarning,\n      borderColor: brandWarning,\n      pointHoverBackgroundColor: '#fff',\n      borderWidth: 2,\n      //borderDash: [8, 5],\n      data: [],\n    },\n    {\n      label: 'Heartrate',\n      fill: false,\n      backgroundColor: brandDanger,\n      borderColor: brandDanger,\n      pointHoverBackgroundColor: '#fff',\n      borderWidth: 2,\n      data: [],\n    },\n  ],\n}\n\n// Card Charts\n\nlet miniLabel = []\n\n// lascio per caricare lo storico\nfor (let i = 0; i < numCardElement; i++) {\n  miniLabel.push('')\n}\n\n// Power\nconst cardChartData1 = {\n  labels: miniLabel,\n  datasets: [\n    {\n      backgroundColor: 'rgba(255,255,255,.2)',\n      borderColor: 'rgba(255,255,255,.55)',\n      data: [],\n    },\n  ],\n}\n\nconst cardChartOpts1 = {\n  tooltips: {\n    enabled: false,\n  },\n  maintainAspectRatio: false,\n  legend: {\n    display: false,\n  },\n  scales: {\n    xAxes: [\n      {\n        display: false,\n      },\n    ],\n    yAxes: [\n      {\n        display: false,\n        ticks: {\n          beginAtZero: true,\n          max: 450,\n        },\n      },\n    ],\n  },\n  elements: {\n    line: {\n      borderWidth: 2,\n    },\n    point: {\n      radius: 0,\n      hitRadius: 10,\n      hoverRadius: 0,\n    },\n  },\n  animation: {\n    duration: 0,\n  },\n}\n\n// Cadence\nconst cardChartData2 = {\n  labels: miniLabel,\n  datasets: [\n    {\n      backgroundColor: 'rgba(255,255,255,.2)',\n      borderColor: 'rgba(255,255,255,.55)',\n      data: [],\n    },\n  ],\n}\n\nconst cardChartOpts2 = {\n  tooltips: {\n    enabled: false,\n  },\n  maintainAspectRatio: false,\n  legend: {\n    display: false,\n  },\n  scales: {\n    xAxes: [\n      {\n        display: false,\n      },\n    ],\n    yAxes: [\n      {\n        display: false,\n        ticks: {\n          min: 50,\n          max: 150,\n        },\n      },\n    ],\n  },\n  elements: {\n    line: {\n      borderWidth: 2,\n    },\n    point: {\n      radius: 0,\n      hitRadius: 10,\n      hoverRadius: 0,\n    },\n  },\n  animation: {\n    duration: 0,\n  },\n}\n\n// Speed\nconst cardChartData3 = {\n  labels: miniLabel,\n  datasets: [\n    {\n      backgroundColor: 'rgba(255,255,255,.2)',\n      borderColor: 'rgba(255,255,255,.55)',\n      data: [],\n    },\n  ],\n}\n\nconst cardChartOpts3 = {\n  tooltips: {\n    enabled: false,\n  },\n  maintainAspectRatio: false,\n  legend: {\n    display: false,\n  },\n  scales: {\n    xAxes: [\n      {\n        display: false,\n      },\n    ],\n    yAxes: [\n      {\n        display: false,\n        ticks: {\n          beginAtZero: true,\n          max: 160,\n        },\n      },\n    ],\n  },\n  elements: {\n    line: {\n      borderWidth: 2,\n    },\n    point: {\n      radius: 0,\n      hitRadius: 10,\n      hoverRadius: 0,\n    },\n  },\n  animation: {\n    duration: 0,\n  },\n}\n\n// Heartrate\nconst cardChartData4 = {\n  labels: miniLabel,\n  datasets: [\n    {\n      backgroundColor: 'rgba(255,255,255,.2)',\n      borderColor: 'rgba(255,255,255,.55)',\n      data: [],\n    },\n  ],\n}\n\nconst cardChartOpts4 = {\n  tooltips: {\n    enabled: false,\n  },\n  maintainAspectRatio: false,\n  legend: {\n    display: false,\n  },\n  scales: {\n    xAxes: [\n      {\n        display: false,\n      },\n    ],\n    yAxes: [\n      {\n        display: false,\n        ticks: {\n          min: 100,\n          max: 200,\n        },\n      },\n    ],\n  },\n  elements: {\n    line: {\n      borderWidth: 2,\n    },\n    point: {\n      radius: 0,\n      hitRadius: 10,\n      hoverRadius: 0,\n    },\n  },\n  animation: {\n    duration: 0,\n  },\n}\n\nexport {\n  mainChartOpts,\n  mainChartData,\n  cardChartData1,\n  cardChartData2,\n  cardChartData3,\n  cardChartData4,\n  cardChartOpts1,\n  cardChartOpts2,\n  cardChartOpts3,\n  cardChartOpts4,\n  numCardElement,\n  numElement,\n}\n","import React, { useState, useEffect, useCallback } from 'react'\nimport { Line } from 'react-chartjs-2'\n\nimport { mainChartData, mainChartOpts } from './costants'\n\nconst MainChart = ({ data, history }) => {\n  const [state, setState] = useState(mainChartData)\n\n  const updateHistory = useCallback(() => {\n    let newState = { ...state }\n    let datasets = newState.datasets\n\n    datasets[0].data.push(...history.power)\n    datasets[1].data.push(...history.cadence)\n    datasets[2].data.push(...history.speed)\n    datasets[3].data.push(...history.heartrate)\n\n    setState(newState)\n  }, [state, history])\n\n  const updateData = useCallback(() => {\n    let oldDataSet1 = state.datasets[0]\n    let oldDataSet2 = state.datasets[1]\n    let oldDataSet3 = state.datasets[2]\n    let oldDataSet4 = state.datasets[3]\n\n    let labels = state.labels\n    /*let time = Math.round(data.Minutes * 100 * 60) / 100;\n    let minutes = Math.floor(time / 60);\n    let seconds = time % 60;*/\n\n    let newData1 = []\n    let newData2 = []\n    let newData3 = []\n    let newData4 = []\n\n    for (let x = 1; x < labels.length; x++) {\n      let value1 = oldDataSet1.data[x]\n      let value2 = oldDataSet2.data[x]\n      let value3 = oldDataSet3.data[x]\n      let value4 = oldDataSet4.data[x]\n\n      if (value1 !== undefined) {\n        newData1.push(value1)\n        newData2.push(value2)\n        newData3.push(value3)\n        newData4.push(value4)\n      } else {\n        newData1.unshift(value1)\n        newData2.unshift(value2)\n        newData3.unshift(value3)\n        newData4.unshift(value4)\n      }\n    }\n\n    labels.shift()\n    labels.push('')\n\n    newData1.push(data.power)\n    newData2.push(data.cadence)\n    newData3.push(data.speed)\n    newData4.push(data.heartrate)\n\n    setState({\n      ...state,\n      datasets: [\n        {\n          ...oldDataSet1,\n          data: newData1,\n        },\n        {\n          ...oldDataSet2,\n          data: newData2,\n        },\n        {\n          ...oldDataSet3,\n          data: newData3,\n        },\n        {\n          ...oldDataSet4,\n          data: newData4,\n        },\n      ],\n    })\n  }, [state, data])\n\n  useEffect(() => {\n    updateHistory()\n    // eslint-disable-next-line\n  }, [history])\n\n  useEffect(() => {\n    updateData()\n    // eslint-disable-next-line\n  }, [data])\n\n  return <Line data={state} options={mainChartOpts} />\n}\n\nexport default MainChart\n","import React, { useState, useEffect, useCallback } from 'react'\nimport { Line } from 'react-chartjs-2'\n\nimport {\n  cardChartData1,\n  cardChartData2,\n  cardChartData3,\n  cardChartData4,\n  cardChartOpts1,\n  cardChartOpts2,\n  cardChartOpts3,\n  cardChartOpts4,\n} from './costants'\n\nconst CardChart = ({ state, type, data, history, opts }) => {\n  const [line, setLine] = useState(state)\n\n  const updateHistory = useCallback(() => {\n    let newLine = { ...line }\n    newLine.datasets[0].data.push(...history[type])\n    setLine(newLine)\n  }, [line, history, type])\n\n  const updateLine = useCallback(() => {\n    let oldDataSet = { ...line.datasets[0] }\n    let labels = [...line.labels]\n    let newData = []\n\n    for (let x = 1; x < labels.length; x++) {\n      let value = oldDataSet.data[x]\n\n      if (value !== undefined) {\n        newData.push(value)\n      } else {\n        newData.unshift(value)\n      }\n    }\n\n    labels.shift()\n    labels.push('')\n\n    let value = data[type]\n    newData.push(value)\n\n    setLine({\n      ...line,\n      datasets: [\n        {\n          ...oldDataSet,\n          data: newData,\n        },\n      ],\n    })\n  }, [line, type, data])\n\n  useEffect(() => {\n    updateHistory()\n    // eslint-disable-next-line\n  }, [history])\n\n  useEffect(() => {\n    updateLine()\n    // eslint-disable-next-line\n  }, [data])\n\n  return <Line data={line} options={opts} />\n}\n\nconst PowerCard = ({ data, history }) => {\n  return (\n    <CardChart\n      state={cardChartData1}\n      opts={cardChartOpts1}\n      type=\"power\"\n      data={data}\n      history={history}\n    />\n  )\n}\n\nconst CadenceCard = ({ data, history }) => {\n  return (\n    <CardChart\n      state={cardChartData2}\n      opts={cardChartOpts2}\n      type=\"cadence\"\n      data={data}\n      history={history}\n    />\n  )\n}\n\nconst SpeedCard = ({ data, history }) => {\n  return (\n    <CardChart\n      state={cardChartData3}\n      opts={cardChartOpts3}\n      type=\"speed\"\n      data={data}\n      history={history}\n    />\n  )\n}\n\nconst HRCard = ({ data, history }) => {\n  return (\n    <CardChart\n      state={cardChartData4}\n      opts={cardChartOpts4}\n      type=\"heartrate\"\n      data={data}\n      history={history}\n    />\n  )\n}\n\nexport { CardChart, CadenceCard, PowerCard, SpeedCard, HRCard }\n","import React from 'react'\nimport { Card, CardBody, Col, Row } from 'reactstrap'\n\nconst Extra = ({ time, gear, distance, showExtra, weather }) => {\n  return !showExtra ? null : (\n    <Row>\n      <Col xs=\"12\" sm=\"6\" lg=\"4\">\n        <Card className=\"text-white bg-primary\">\n          <CardBody className=\"pb-2\">\n            <div>Time [s]</div>\n            <div className=\"text-value text-center\">{time}</div>\n          </CardBody>\n        </Card>\n      </Col>\n\n      <Col xs=\"12\" sm=\"6\" lg=\"2\">\n        <Card className=\"text-white bg-dark\">\n          <CardBody className=\"pb-2\">\n            <div>Gear</div>\n            <div className=\"text-value text-center\">{gear}</div>\n          </CardBody>\n        </Card>\n      </Col>\n\n      <Col xs=\"12\" sm=\"6\" lg=\"2\">\n        <Card className=\"text-dark bg-secondary\">\n          <CardBody className=\"pb-2\">\n            <div>Distance [m]</div>\n            <div className=\"text-value text-center\">{distance}</div>\n          </CardBody>\n        </Card>\n      </Col>\n\n      <Col xs=\"12\" sm=\"6\" lg=\"4\">\n        <Card className=\"text-white bg-purple\">\n          <CardBody className=\"pb-2\">\n            <Row>\n              <Col xs=\"4\" sm=\"4\" lg=\"4\">\n                <div className=\"text-center\">Temp [°C]</div>\n                <div className=\"text-value text-center\">\n                  {weather.temperature}\n                </div>\n              </Col>\n              <Col xs=\"4\" sm=\"4\" lg=\"4\">\n                <div className=\"text-center\">Altitude [m]</div>\n                <div className=\"text-value text-center\">{weather.altitude}</div>\n              </Col>\n              <Col xs=\"4\" sm=\"4\" lg=\"4\">\n                <div className=\"text-center\">Press [hPa]</div>\n                <div className=\"text-value text-center\">{weather.pressure}</div>\n              </Col>\n            </Row>\n          </CardBody>\n        </Card>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Extra\n","import React, { useRef, useState, useEffect, useCallback } from 'react'\nimport { ButtonGroup, Card, CardBody, Col, Row } from 'reactstrap'\nimport {\n  MainChart,\n  CadenceCard,\n  PowerCard,\n  SpeedCard,\n  HRCard,\n  numCardElement,\n  numElement,\n} from './Graph'\nimport Extra from './Extra'\n\nimport SocketIoHelper from 'socketio'\nimport { FiActivity } from 'react-icons/fi'\nimport { GiSpeedometer, GiCartwheel } from 'react-icons/gi'\nimport { FaSpaceShuttle } from 'react-icons/fa'\n\nconst useIsMounted = () => {\n  const isMounted = useRef(false)\n\n  useEffect(() => {\n    isMounted.current = true\n    return () => (isMounted.current = false)\n  }, [])\n\n  return isMounted\n}\n\nconst Dashboard = () => {\n  const isMounted = useIsMounted()\n  const [data, setData] = useState()\n  const [history, setHistory] = useState()\n  const [weather, setWeather] = useState()\n  const loading =\n    data === undefined || weather === undefined || history === undefined\n\n  const updateHistory = useCallback(history => {\n    let param = ['heartrate', 'cadence', 'power', 'speed']\n    let chart = {\n      heartrate: [],\n      cadence: [],\n      power: [],\n      speed: [],\n    }\n    let miniChart = {\n      heartrate: [],\n      cadence: [],\n      power: [],\n      speed: [],\n    }\n    let rev_history = history.reverse()\n    let list = rev_history.slice(0, numElement)\n    let miniList = rev_history.slice(0, numCardElement)\n\n    list.reverse()\n    miniList.reverse()\n\n    for (let i = 0; i < list.length && i < numElement; i++) {\n      for (let j = 0; j < param.length; j++) {\n        chart[param[j]].push(JSON.parse(list[i])[param[j]])\n        if (i < numCardElement) {\n          miniChart[param[j]].push(JSON.parse(miniList[i])[param[j]])\n        }\n      }\n    }\n\n    let newHistory = {\n      chart: chart,\n      miniChart: miniChart,\n    }\n\n    setHistory(newHistory)\n  }, [])\n\n  const updateData = useCallback(\n    data => {\n      setData(data)\n\n      if (isMounted.current) {\n        setTimeout(() => {\n          SocketIoHelper.requestData()\n        }, 300)\n      }\n    },\n    [isMounted]\n  )\n\n  useEffect(() => {\n    SocketIoHelper.requestData()\n    SocketIoHelper.getHistory(list => updateHistory(list))\n\n    SocketIoHelper.getData(data => updateData(data))\n    SocketIoHelper.getWeather(weather => setWeather(weather))\n  }, [updateHistory, updateData])\n\n  const Loading = () => (\n    <div className=\"animated fadeIn pt-1 text-center\">Loading...</div>\n  )\n\n  return loading ? (\n    Loading\n  ) : (\n    <article>\n      <Row>\n        <Col xs=\"12\" sm=\"6\" lg=\"3\">\n          <Card className=\"text-white bg-info\">\n            <CardBody className=\"pb-0\">\n              <ButtonGroup id=\"card1\" className=\"float-right\">\n                <FaSpaceShuttle size={'1.5em'} />\n              </ButtonGroup>\n              <div className=\"text-value\">{data.power}</div>\n              <div>Power [W]</div>\n            </CardBody>\n            <div className=\"chart-wrapper\" style={{ height: '60px' }}>\n              <PowerCard data={data} history={history.miniChart} />\n            </div>\n          </Card>\n        </Col>\n\n        <Col xs=\"12\" sm=\"6\" lg=\"3\">\n          <Card className=\"text-white bg-success\">\n            <CardBody className=\"pb-0\">\n              <ButtonGroup id=\"card2\" className=\"float-right\">\n                <GiCartwheel size={'1.5em'} />\n              </ButtonGroup>\n              <div className=\"text-value\">{data.cadence}</div>\n              <div>Cadence [rpm]</div>\n            </CardBody>\n            <div className=\"chart-wrapper\" style={{ height: '60px' }}>\n              <CadenceCard data={data} history={history.miniChart} />\n            </div>\n          </Card>\n        </Col>\n\n        <Col xs=\"12\" sm=\"6\" lg=\"3\">\n          <Card className=\"text-white bg-warning\">\n            <CardBody className=\"pb-0\">\n              <ButtonGroup id=\"card3\" className=\"float-right\">\n                <GiSpeedometer size={'1.5em'} />\n              </ButtonGroup>\n              <div className=\"text-value\">{data.speed}</div>\n              <div>Speed [km/h]</div>\n            </CardBody>\n            <div className=\"chart-wrapper\" style={{ height: '60px' }}>\n              <SpeedCard data={data} history={history.miniChart} />\n            </div>\n          </Card>\n        </Col>\n\n        <Col xs=\"12\" sm=\"6\" lg=\"3\">\n          <Card className=\"text-white bg-danger\">\n            <CardBody className=\"pb-0\">\n              <ButtonGroup id=\"card4\" className=\"float-right\">\n                <FiActivity size={'1.5em'} />\n              </ButtonGroup>\n              <div className=\"text-value\">{data.heartrate}</div>\n              <div>Heartrate [bpm]</div>\n            </CardBody>\n            <div className=\"chart-wrapper\" style={{ height: '60px' }}>\n              <HRCard data={data} history={history.miniChart} />\n            </div>\n          </Card>\n        </Col>\n      </Row>\n\n      <Row>\n        <Col>\n          <Card>\n            <CardBody>\n              <div\n                className=\"chart-wrapper\"\n                style={{ height: `370px`, marginTop: 0 }}\n              >\n                <MainChart data={data} history={history.chart} />\n              </div>\n            </CardBody>\n          </Card>\n        </Col>\n      </Row>\n\n      <Extra\n        showExtra={true}\n        gear={data.gear}\n        distance={data.distance}\n        time={data.time}\n        weather={weather}\n      />\n    </article>\n  )\n}\n\nexport default Dashboard\n"],"sourceRoot":""}