{"version":3,"sources":["views/Dashboard/Graph/costants.js","views/Dashboard/Graph/MainChart.js","views/Dashboard/Graph/CardChart.js","views/Dashboard/Extra/index.js","views/Dashboard/Dashboard.js"],"names":["brandSuccess","getStyle","brandInfo","brandWarning","brandDanger","label","i","push","mainChartOpts","tooltips","enabled","custom","CustomTooltips","intersect","mode","position","callbacks","labelColor","tooltipItem","chart","backgroundColor","data","datasets","datasetIndex","borderColor","maintainAspectRatio","legend","display","scales","xAxes","gridLines","drawOnChartArea","yAxes","ticks","beginAtZero","elements","point","radius","hitRadius","hoverRadius","hoverBorderWidth","line","tension","animation","duration","mainChartData","labels","fill","pointHoverBackgroundColor","borderWidth","miniLabel","cardChartData1","cardChartOpts1","max","cardChartData2","cardChartOpts2","min","cardChartData3","cardChartOpts3","cardChartData4","cardChartOpts4","MainChart","props","history","state","undefined","manageHistory","x","this","length","value1","power","value2","cadence","value3","speed","value4","heartrate","unshift","oldDataSet1","oldDataSet2","oldDataSet3","oldDataSet4","newData1","newData2","newData3","newData4","shift","setState","options","Component","CardChart","value","oldDataSet","newData","opts","PowerCard","CadenceCard","SpeedCard","HRCard","Extra","time","gear","distance","showExtra","weather","Row","Col","xs","sm","lg","Card","className","CardBody","temperature","altitude","pressure","Dashboard","_isMounted","loading","SocketIoHelper","getHistory","list","requestData","param","miniChart","rev_history","reverse","slice","miniList","j","JSON","parse","newState","setTimeout","getData","updateData","getWeather","ButtonGroup","id","size","style","height","marginTop"],"mappings":"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","file":"static/js/12.872fd058.chunk.js","sourcesContent":["import { CustomTooltips } from '@coreui/coreui-plugin-chartjs-custom-tooltips'\nimport { getStyle } from '@coreui/coreui/dist/js/coreui-utilities'\n\n//const brandPrimary = getStyle(\"--primary\");\nconst brandSuccess = getStyle('--success')\nconst brandInfo = getStyle('--info')\nconst brandWarning = getStyle('--warning')\nconst brandDanger = getStyle('--danger')\n\nconst numElement = 200\nconst numCardElement = 50\n\n// Main Chart\n\nlet label = []\n\nfor (let i = 0; i < numElement; i++) {\n  label.push('')\n}\n\nconst mainChartOpts = {\n  tooltips: {\n    enabled: false,\n    custom: CustomTooltips,\n    intersect: true,\n    mode: 'index',\n    position: 'nearest',\n    callbacks: {\n      labelColor: function(tooltipItem, chart) {\n        return {\n          backgroundColor:\n            chart.data.datasets[tooltipItem.datasetIndex].borderColor,\n        }\n      },\n    },\n  },\n  maintainAspectRatio: false,\n  legend: {\n    display: true,\n  },\n  scales: {\n    xAxes: [\n      {\n        display: false,\n        gridLines: {\n          drawOnChartArea: true,\n        },\n      },\n    ],\n    yAxes: [\n      {\n        display: true,\n        ticks: {\n          beginAtZero: true,\n        },\n      },\n    ],\n  },\n  elements: {\n    point: {\n      radius: 0,\n      hitRadius: 10,\n      hoverRadius: 4,\n      hoverBorderWidth: 3,\n    },\n    line: {\n      tension: 0,\n    },\n  },\n  animation: {\n    duration: 0,\n  },\n}\n\nconst mainChartData = {\n  labels: label,\n  datasets: [\n    {\n      label: 'Power',\n      fill: false,\n      backgroundColor: brandInfo, //hexToRgba(brandInfo, 10),\n      borderColor: brandInfo,\n      pointHoverBackgroundColor: '#fff',\n      borderWidth: 2,\n      data: [],\n    },\n    {\n      label: 'Cadence',\n      fill: false,\n      backgroundColor: brandSuccess,\n      borderColor: brandSuccess,\n      pointHoverBackgroundColor: '#fff',\n      borderWidth: 2,\n      data: [],\n    },\n    {\n      label: 'Speed',\n      fill: false,\n      backgroundColor: brandWarning,\n      borderColor: brandWarning,\n      pointHoverBackgroundColor: '#fff',\n      borderWidth: 2,\n      //borderDash: [8, 5],\n      data: [],\n    },\n    {\n      label: 'Heartrate',\n      fill: false,\n      backgroundColor: brandDanger,\n      borderColor: brandDanger,\n      pointHoverBackgroundColor: '#fff',\n      borderWidth: 2,\n      data: [],\n    },\n  ],\n}\n\n// Card Charts\n\nlet miniLabel = []\n\n// lascio per caricare lo storico\nfor (let i = 0; i < numCardElement; i++) {\n  miniLabel.push('')\n}\n\n// Power\nconst cardChartData1 = {\n  labels: miniLabel,\n  datasets: [\n    {\n      backgroundColor: 'rgba(255,255,255,.2)',\n      borderColor: 'rgba(255,255,255,.55)',\n      data: [],\n    },\n  ],\n}\n\nconst cardChartOpts1 = {\n  tooltips: {\n    enabled: false,\n  },\n  maintainAspectRatio: false,\n  legend: {\n    display: false,\n  },\n  scales: {\n    xAxes: [\n      {\n        display: false,\n      },\n    ],\n    yAxes: [\n      {\n        display: false,\n        ticks: {\n          beginAtZero: true,\n          max: 450,\n        },\n      },\n    ],\n  },\n  elements: {\n    line: {\n      borderWidth: 2,\n    },\n    point: {\n      radius: 0,\n      hitRadius: 10,\n      hoverRadius: 0,\n    },\n  },\n  animation: {\n    duration: 0,\n  },\n}\n\n// Cadence\nconst cardChartData2 = {\n  labels: miniLabel,\n  datasets: [\n    {\n      backgroundColor: 'rgba(255,255,255,.2)',\n      borderColor: 'rgba(255,255,255,.55)',\n      data: [],\n    },\n  ],\n}\n\nconst cardChartOpts2 = {\n  tooltips: {\n    enabled: false,\n  },\n  maintainAspectRatio: false,\n  legend: {\n    display: false,\n  },\n  scales: {\n    xAxes: [\n      {\n        display: false,\n      },\n    ],\n    yAxes: [\n      {\n        display: false,\n        ticks: {\n          min: 50,\n          max: 150,\n        },\n      },\n    ],\n  },\n  elements: {\n    line: {\n      borderWidth: 2,\n    },\n    point: {\n      radius: 0,\n      hitRadius: 10,\n      hoverRadius: 0,\n    },\n  },\n  animation: {\n    duration: 0,\n  },\n}\n\n// Speed\nconst cardChartData3 = {\n  labels: miniLabel,\n  datasets: [\n    {\n      backgroundColor: 'rgba(255,255,255,.2)',\n      borderColor: 'rgba(255,255,255,.55)',\n      data: [],\n    },\n  ],\n}\n\nconst cardChartOpts3 = {\n  tooltips: {\n    enabled: false,\n  },\n  maintainAspectRatio: false,\n  legend: {\n    display: false,\n  },\n  scales: {\n    xAxes: [\n      {\n        display: false,\n      },\n    ],\n    yAxes: [\n      {\n        display: false,\n        ticks: {\n          beginAtZero: true,\n          max: 160,\n        },\n      },\n    ],\n  },\n  elements: {\n    line: {\n      borderWidth: 2,\n    },\n    point: {\n      radius: 0,\n      hitRadius: 10,\n      hoverRadius: 0,\n    },\n  },\n  animation: {\n    duration: 0,\n  },\n}\n\n// Heartrate\nconst cardChartData4 = {\n  labels: miniLabel,\n  datasets: [\n    {\n      backgroundColor: 'rgba(255,255,255,.2)',\n      borderColor: 'rgba(255,255,255,.55)',\n      data: [],\n    },\n  ],\n}\n\nconst cardChartOpts4 = {\n  tooltips: {\n    enabled: false,\n  },\n  maintainAspectRatio: false,\n  legend: {\n    display: false,\n  },\n  scales: {\n    xAxes: [\n      {\n        display: false,\n      },\n    ],\n    yAxes: [\n      {\n        display: false,\n        ticks: {\n          min: 100,\n          max: 200,\n        },\n      },\n    ],\n  },\n  elements: {\n    line: {\n      borderWidth: 2,\n    },\n    point: {\n      radius: 0,\n      hitRadius: 10,\n      hoverRadius: 0,\n    },\n  },\n  animation: {\n    duration: 0,\n  },\n}\n\nexport {\n  mainChartOpts,\n  mainChartData,\n  cardChartData1,\n  cardChartData2,\n  cardChartData3,\n  cardChartData4,\n  cardChartOpts1,\n  cardChartOpts2,\n  cardChartOpts3,\n  cardChartOpts4,\n  numCardElement,\n  numElement,\n}\n","import React, { Component } from 'react'\nimport { Line } from 'react-chartjs-2'\n\nimport { mainChartData, mainChartOpts } from './costants'\n\nclass MainChart extends Component {\n  constructor(props) {\n    super(props)\n\n    this.data = this.props.data\n    this.history = this.props.history\n\n    this.state = mainChartData\n\n    if (this.history !== undefined) this.manageHistory(this.state, this.history)\n  }\n\n  manageHistory(data, chart) {\n    for (let x = 1; x < this.state.labels.length; x++) {\n      let value1 = chart.power[x]\n      let value2 = chart.cadence[x]\n      let value3 = chart.speed[x]\n      let value4 = chart.heartrate[x]\n\n      if (value1 !== undefined) {\n        data.datasets[0].data.push(value1)\n        data.datasets[1].data.push(value2)\n        data.datasets[2].data.push(value3)\n        data.datasets[3].data.push(value4)\n      } else {\n        data.datasets[0].data.unshift(value1)\n        data.datasets[1].data.unshift(value2)\n        data.datasets[2].data.unshift(value3)\n        data.datasets[3].data.unshift(value4)\n      }\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.data !== this.props.data) {\n      this.data = this.props.data\n      let _this = this\n\n      let oldDataSet1 = _this.state.datasets[0]\n      let oldDataSet2 = _this.state.datasets[1]\n      let oldDataSet3 = _this.state.datasets[2]\n      let oldDataSet4 = _this.state.datasets[3]\n\n      let labels = _this.state.labels\n      /*let time = Math.round(_this.data.Minutes * 100 * 60) / 100;\n      let minutes = Math.floor(time / 60);\n      let seconds = time % 60;*/\n\n      let newData1 = []\n      let newData2 = []\n      let newData3 = []\n      let newData4 = []\n\n      for (let x = 1; x < labels.length; x++) {\n        let value1 = oldDataSet1.data[x]\n        let value2 = oldDataSet2.data[x]\n        let value3 = oldDataSet3.data[x]\n        let value4 = oldDataSet4.data[x]\n\n        if (value1 !== undefined) {\n          newData1.push(value1)\n          newData2.push(value2)\n          newData3.push(value3)\n          newData4.push(value4)\n        } else {\n          newData1.unshift(value1)\n          newData2.unshift(value2)\n          newData3.unshift(value3)\n          newData4.unshift(value4)\n        }\n      }\n\n      labels.shift()\n      labels.push('')\n\n      newData1.push(_this.data.power)\n      newData2.push(_this.data.cadence)\n      newData3.push(_this.data.speed)\n      newData4.push(_this.data.heartrate)\n\n      _this.setState({\n        ..._this.state,\n        datasets: [\n          {\n            ...oldDataSet1,\n            data: newData1,\n          },\n          {\n            ...oldDataSet2,\n            data: newData2,\n          },\n          {\n            ...oldDataSet3,\n            data: newData3,\n          },\n          {\n            ...oldDataSet4,\n            data: newData4,\n          },\n        ],\n      })\n    }\n  }\n\n  render() {\n    return <Line data={this.state} options={mainChartOpts} />\n  }\n}\n\nexport default MainChart\n","import React, { Component } from 'react'\nimport { Line } from 'react-chartjs-2'\n\nimport {\n  cardChartData1,\n  cardChartData2,\n  cardChartData3,\n  cardChartData4,\n  cardChartOpts1,\n  cardChartOpts2,\n  cardChartOpts3,\n  cardChartOpts4,\n} from './costants'\n\nclass CardChart extends Component {\n  constructor(props) {\n    super(props)\n\n    this.data = this.props.data\n    this.value = this.props.value\n    this.history = this.props.history\n\n    this.state = this.props.state\n\n    if (this.history !== undefined) this.manageHistory(this.state, this.history)\n  }\n\n  manageHistory(data, chart) {\n    for (let x = 1; x < this.state.labels.length; x++) {\n      let value = chart[this.value][x]\n\n      if (value !== undefined) {\n        data.datasets[0].data.push(value)\n      } else {\n        data.datasets[0].data.unshift(value)\n      }\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.data !== this.props.data) {\n      this.data = this.props.data\n      let _this = this\n\n      let oldDataSet = _this.state.datasets[0]\n      let labels = _this.state.labels\n      let newData = []\n\n      for (let x = 1; x < labels.length; x++) {\n        let value = oldDataSet.data[x]\n\n        if (value !== undefined) {\n          newData.push(value)\n        } else {\n          newData.unshift(value)\n        }\n      }\n\n      labels.shift()\n      labels.push('')\n\n      let value = _this.data[_this.value]\n      newData.push(value)\n\n      _this.setState({\n        ..._this.state,\n        datasets: [\n          {\n            ...oldDataSet,\n            data: newData,\n          },\n        ],\n      })\n    }\n  }\n\n  render() {\n    return <Line data={this.state} options={this.props.opts} />\n  }\n}\n\nconst PowerCard = ({ data, history }) => {\n  return (\n    <CardChart\n      state={cardChartData1}\n      opts={cardChartOpts1}\n      value=\"power\"\n      data={data}\n      history={history}\n    />\n  )\n}\n\nconst CadenceCard = ({ data, history }) => {\n  return (\n    <CardChart\n      state={cardChartData2}\n      opts={cardChartOpts2}\n      value=\"cadence\"\n      data={data}\n      history={history}\n    />\n  )\n}\n\nconst SpeedCard = ({ data, history }) => {\n  return (\n    <CardChart\n      state={cardChartData3}\n      opts={cardChartOpts3}\n      value=\"speed\"\n      data={data}\n      history={history}\n    />\n  )\n}\n\nconst HRCard = ({ data, history }) => {\n  return (\n    <CardChart\n      state={cardChartData4}\n      opts={cardChartOpts4}\n      value=\"heartrate\"\n      data={data}\n      history={history}\n    />\n  )\n}\n\nexport { CardChart, CadenceCard, PowerCard, SpeedCard, HRCard }\n","import React from 'react'\nimport { Card, CardBody, Col, Row } from 'reactstrap'\n\nconst Extra = ({ time, gear, distance, showExtra, weather }) => {\n  return !showExtra ? null : (\n    <Row>\n      <Col xs=\"12\" sm=\"6\" lg=\"4\">\n        <Card className=\"text-white bg-primary\">\n          <CardBody className=\"pb-2\">\n            <div>Time [s]</div>\n            <div className=\"text-value text-center\">{time}</div>\n          </CardBody>\n        </Card>\n      </Col>\n\n      <Col xs=\"12\" sm=\"6\" lg=\"2\">\n        <Card className=\"text-white bg-dark\">\n          <CardBody className=\"pb-2\">\n            <div>Gear</div>\n            <div className=\"text-value text-center\">{gear}</div>\n          </CardBody>\n        </Card>\n      </Col>\n\n      <Col xs=\"12\" sm=\"6\" lg=\"2\">\n        <Card className=\"text-dark bg-secondary\">\n          <CardBody className=\"pb-2\">\n            <div>Distance [m]</div>\n            <div className=\"text-value text-center\">{distance}</div>\n          </CardBody>\n        </Card>\n      </Col>\n\n      <Col xs=\"12\" sm=\"6\" lg=\"4\">\n        <Card className=\"text-white bg-purple\">\n          <CardBody className=\"pb-2\">\n            <Row>\n              <Col xs=\"4\" sm=\"4\" lg=\"4\">\n                <div className=\"text-center\">Temp [Â°C]</div>\n                <div className=\"text-value text-center\">\n                  {weather.temperature}\n                </div>\n              </Col>\n              <Col xs=\"4\" sm=\"4\" lg=\"4\">\n                <div className=\"text-center\">Altitude [m]</div>\n                <div className=\"text-value text-center\">{weather.altitude}</div>\n              </Col>\n              <Col xs=\"4\" sm=\"4\" lg=\"4\">\n                <div className=\"text-center\">Press [hPa]</div>\n                <div className=\"text-value text-center\">{weather.pressure}</div>\n              </Col>\n            </Row>\n          </CardBody>\n        </Card>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Extra\n","import React, { Component } from 'react'\nimport { ButtonGroup, Card, CardBody, Col, Row } from 'reactstrap'\nimport {\n  MainChart,\n  CadenceCard,\n  PowerCard,\n  SpeedCard,\n  HRCard,\n  numCardElement,\n  numElement,\n} from './Graph'\nimport Extra from './Extra'\n\nimport SocketIoHelper from 'socketio'\nimport { FiActivity } from 'react-icons/fi'\nimport { GiSpeedometer, GiCartwheel } from 'react-icons/gi'\nimport { FaSpaceShuttle } from 'react-icons/fa'\n\nclass Dashboard extends Component {\n  _isMounted = false\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      data: '',\n      history: '',\n      weather: '',\n      showExtra: true,\n    }\n\n    SocketIoHelper.getHistory(list => {\n      this.history(list)\n    })\n\n    SocketIoHelper.requestData()\n  }\n\n  loading = () => (\n    <div className=\"animated fadeIn pt-1 text-center\">Loading...</div>\n  )\n\n  history(history) {\n    let param = ['heartrate', 'cadence', 'power', 'speed']\n    let chart = {\n      heartrate: [],\n      cadence: [],\n      power: [],\n      speed: [],\n    }\n    let miniChart = {\n      heartrate: [],\n      cadence: [],\n      power: [],\n      speed: [],\n    }\n    let rev_history = history.reverse()\n    let list = rev_history.slice(0, numElement)\n    let miniList = rev_history.slice(0, numCardElement)\n\n    list.reverse()\n    miniList.reverse()\n\n    for (let i = 0; i < list.length && i < numElement; i++) {\n      for (let j = 0; j < param.length; j++) {\n        chart[param[j]].push(JSON.parse(list[i])[param[j]])\n        if (i < numCardElement) {\n          miniChart[param[j]].push(JSON.parse(miniList[i])[param[j]])\n        }\n      }\n    }\n\n    let newState = {\n      ...this.state,\n      history: {\n        chart: chart,\n        miniChart: miniChart,\n      },\n    }\n    this.setState(newState)\n  }\n\n  updateData(data) {\n    this.setState({\n      data,\n    })\n\n    if (this._isMounted) {\n      setTimeout(function() {\n        SocketIoHelper.requestData()\n      }, 300)\n    }\n  }\n\n  componentDidMount() {\n    this._isMounted = true\n\n    // per quando si cambiano tab della pagina\n    SocketIoHelper.getHistory(list => {\n      this.history(list)\n    })\n    SocketIoHelper.getData(data => {\n      //TODO: if per taurus o taurusx\n      this.updateData(data)\n    })\n    SocketIoHelper.getWeather(weather => this.setState({ weather }))\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false\n  }\n\n  render() {\n    return this.state.history === '' ? null : (\n      <article>\n        <Row>\n          <Col xs=\"12\" sm=\"6\" lg=\"3\">\n            <Card className=\"text-white bg-info\">\n              <CardBody className=\"pb-0\">\n                <ButtonGroup id=\"card1\" className=\"float-right\">\n                  <FaSpaceShuttle size={'1.5em'} />\n                </ButtonGroup>\n                <div className=\"text-value\">{this.state.data.power}</div>\n                <div>Power [W]</div>\n              </CardBody>\n              <div className=\"chart-wrapper\" style={{ height: '60px' }}>\n                <PowerCard\n                  data={this.state.data}\n                  history={this.state.history.miniChart}\n                />\n              </div>\n            </Card>\n          </Col>\n\n          <Col xs=\"12\" sm=\"6\" lg=\"3\">\n            <Card className=\"text-white bg-success\">\n              <CardBody className=\"pb-0\">\n                <ButtonGroup id=\"card2\" className=\"float-right\">\n                  <GiCartwheel size={'1.5em'} />\n                </ButtonGroup>\n                <div className=\"text-value\">{this.state.data.cadence}</div>\n                <div>Cadence [rpm]</div>\n              </CardBody>\n              <div className=\"chart-wrapper\" style={{ height: '60px' }}>\n                <CadenceCard\n                  data={this.state.data}\n                  history={this.state.history.miniChart}\n                />\n              </div>\n            </Card>\n          </Col>\n\n          <Col xs=\"12\" sm=\"6\" lg=\"3\">\n            <Card className=\"text-white bg-warning\">\n              <CardBody className=\"pb-0\">\n                <ButtonGroup id=\"card3\" className=\"float-right\">\n                  <GiSpeedometer size={'1.5em'} />\n                </ButtonGroup>\n                <div className=\"text-value\">{this.state.data.speed}</div>\n                <div>Speed [km/h]</div>\n              </CardBody>\n              <div className=\"chart-wrapper\" style={{ height: '60px' }}>\n                <SpeedCard\n                  data={this.state.data}\n                  history={this.state.history.miniChart}\n                />\n              </div>\n            </Card>\n          </Col>\n\n          <Col xs=\"12\" sm=\"6\" lg=\"3\">\n            <Card className=\"text-white bg-danger\">\n              <CardBody className=\"pb-0\">\n                <ButtonGroup id=\"card4\" className=\"float-right\">\n                  <FiActivity size={'1.5em'} />\n                </ButtonGroup>\n                <div className=\"text-value\">{this.state.data.heartrate}</div>\n                <div>Heartrate [bpm]</div>\n              </CardBody>\n              <div className=\"chart-wrapper\" style={{ height: '60px' }}>\n                <HRCard\n                  data={this.state.data}\n                  history={this.state.history.miniChart}\n                />\n              </div>\n            </Card>\n          </Col>\n        </Row>\n\n        <Row>\n          <Col>\n            <Card>\n              <CardBody>\n                <div\n                  className=\"chart-wrapper\"\n                  style={{ height: `370px`, marginTop: 0 }}\n                >\n                  <MainChart\n                    data={this.state.data}\n                    history={this.state.history.chart}\n                  />\n                </div>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n\n        <Extra\n          showExtra={this.state.showExtra}\n          gear={this.state.data.gear}\n          distance={this.state.data.distance}\n          time={this.state.data.time}\n          weather={this.state.weather}\n        />\n      </article>\n    )\n  }\n}\n\nexport default Dashboard\n"],"sourceRoot":""}